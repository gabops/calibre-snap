name: calibre
version: '5.4.2'
summary: Calibre is a powerful and easy to use e-book manager.
description: |
  Calibre is a powerful and easy to use e-book manager.
  Users say it’s outstanding and a must-have. It’ll allow
  you to do nearly everything and it takes things a step
  beyond normal e-book software. It’s also completely
  free and open source and great for both casual users and
  computer experts.

base: core18
grade: devel
confinement: strict
architectures:
  - build-on: amd64

apps:
  calibre:
    command: calibre
    command-chain:
      - bin/calibre-launch
    extensions:
      - kde-neon
    plugs:
      - browser-support
      - desktop
      - home
      - network
      - opengl
      - removable-media
      - x11

parts:
  calibre:
    plugin: dump
    source: https://github.com/kovidgoyal/calibre/releases/download/v5.4.2/calibre-5.4.2-x86_64.txz
    source-type: tar
    source-checksum: sha256/1ecd25d69a37664dbdbe7513ccfbfc2d71993aeb2ae6d59436ee5351cda9408a
    stage-packages:
      - libxi6
      - qt5-gtk-platformtheme

  launchers:
    after:
      - calibre
    plugin: dump
    source: snap/local/launchers/
    organize:
      '*': bin/
